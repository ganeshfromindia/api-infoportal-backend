(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{51:function(e,a,t){e.exports=t(99)},56:function(e,a,t){},57:function(e,a,t){},58:function(e,a,t){},59:function(e,a,t){},64:function(e,a,t){},65:function(e,a,t){},66:function(e,a,t){},67:function(e,a,t){},68:function(e,a,t){},69:function(e,a,t){},70:function(e,a,t){},71:function(e,a,t){},72:function(e,a,t){},75:function(e,a,t){},76:function(e,a,t){},94:function(e,a,t){},95:function(e,a,t){},96:function(e,a,t){},97:function(e,a,t){},98:function(e,a,t){},99:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(7),o=t.n(r),c=(t(56),t(20)),i=t(14);t(57);var s=e=>l.a.createElement("div",{className:"card ".concat(e.className),style:e.style},e.children);const u=e=>({type:"MINLENGTH",val:e}),d=(e,a)=>{let t=!0;for(const n of a)"REQUIRE"===n.type&&(t=t&&e.trim().length>0),"MINLENGTH"===n.type&&(t=t&&e.trim().length>=n.val),"MAXLENGTH"===n.type&&(t=t&&e.trim().length<=n.val),"MIN"===n.type&&(t=t&&+e>=n.val),"MAX"===n.type&&(t=t&&+e<=n.val),"EMAIL"===n.type&&(t=t&&/^\S+@\S+\.\S+$/.test(e));return t};t(58);const m=(e,a)=>{switch(a.type){case"CHANGE":return{...e,value:a.val,isValid:d(a.val,a.validators),isTouched:!1};case"TOUCH":return{...e,isTouched:!0};default:return e}};var p=e=>{const[a,t]=Object(n.useReducer)(m,{value:e.initialValue||"",isTouched:!1,isValid:e.initialValid||!1}),{id:r,onInput:o}=e,{value:c,isValid:i,isTouched:s}=a;Object(n.useEffect)(()=>{o(r,c,i,s)},[r,c,i,o,s]),Object(n.useEffect)(()=>{e.initialValue&&o(e.id,e.initialValue,!0,!1)},[e.id,e.initialValue,o]);const u=a=>{t({type:"CHANGE",val:a.target.value,validators:e.validators})},d=()=>{t({type:"TOUCH"})},p="input"===e.element&&"password"!==e.type?l.a.createElement("input",{id:e.id,type:e.type,placeholder:e.placeholder,onChange:u,onBlur:d,value:a.value}):"input"===e.element&&"password"===e.type?l.a.createElement("input",{id:e.id,type:e.type,placeholder:e.placeholder,onChange:u,onBlur:d}):l.a.createElement("textarea",{id:e.id,rows:e.rows||3,onChange:u,onBlur:d,value:a.value});return l.a.createElement("div",{className:"form-control ".concat(!a.isValid&&a.isTouched&&"form-control--invalid")},l.a.createElement("label",{htmlFor:e.id},e.label),p,!a.isValid&&a.isTouched&&l.a.createElement("p",null,e.errorText))};t(59);var b=e=>e.href?l.a.createElement("a",{className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger"),href:e.href},e.children):e.to?l.a.createElement(i.b,{to:e.to,exact:e.exact,className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger")},e.children):l.a.createElement("button",{className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger"," ").concat(e.normal," ").concat(e.buttonfont," ").concat(e.maxwidth," ").concat(e.position),type:e.type,onClick:e.onClick,disabled:e.disabled},e.children),E=t(100);t(64);var h=e=>o.a.createPortal(l.a.createElement("div",{className:"backdrop",onClick:e.onClick}),document.getElementById("backdrop-hook"));t(65);const g=e=>{const a=l.a.createElement("div",{className:"modal modal-container ".concat(e.className),style:e.style},l.a.createElement("header",{className:"modal__header ".concat(e.headerClass)},l.a.createElement("h2",null,e.header)),l.a.createElement("div",{className:"modal__content ".concat(e.contentClass)},e.children),l.a.createElement("footer",{className:"modal__footer ".concat(e.footerClass)},e.footer));return o.a.createPortal(a,document.getElementById("modal-hook"))};var f=e=>l.a.createElement(l.a.Fragment,null,e.show&&l.a.createElement(h,{onClick:e.onCancel}),l.a.createElement(E.a,{in:e.show,mountOnEnter:!0,unmountOnExit:!0,timeout:200,classNames:"modal"},l.a.createElement(g,e)));var v=e=>l.a.createElement(f,{onCancel:e.onClear,header:"An Error Occurred!",show:!!e.error&&e&&e.error&&e.error.length>0,footer:l.a.createElement(b,{onClick:e.onClear},"Okay")},e&&e.error&&!(e.error instanceof Array)&&l.a.createElement("p",null,e.error),e&&e.error&&e.error.length>0&&e.error instanceof Array&&e.error.map((e,a)=>l.a.createElement("p",{key:a},e)));t(66);var O=e=>l.a.createElement("div",{className:"".concat(e.asOverlay&&"loading-spinner__overlay")},l.a.createElement("div",{className:"lds-dual-ring"}));t(67);var w=Object(n.memo)(e=>{const[a,t]=Object(n.useState)(),[r,o]=Object(n.useState)(),[c,i]=Object(n.useState)(!1);Object(n.useEffect)(()=>{e&&e.data&&(o("http://localhost:5000/"+e.data+"?".concat((new Date).getTime())),e.onInput(e.id,e.data,!0))},[]);const s=Object(n.useRef)();Object(n.useEffect)(()=>{if(!a)return;const e=new FileReader;e.onload=()=>{o(e.result)},e.readAsDataURL(a)},[a]);return l.a.createElement("div",{className:"form-control"},l.a.createElement("input",{id:e.id,ref:s,style:{display:"none"},type:"file",accept:".jpg,.png,.jpeg,.pdf",onChange:a=>{let n,l=c;a.target.files&&1===a.target.files.length?(n=a.target.files[0],t(n),i(!0),l=!0):(i(!1),l=!1),e.onInput(e.id,n,l)}}),l.a.createElement("div",{className:"image-upload ".concat(e.center&&"center")},l.a.createElement("div",{className:"image-upload__preview"},r&&l.a.createElement("img",{src:r,alt:"Preview"})),l.a.createElement(b,{type:"button",normal:"normal-button",buttonfont:"button-font",maxwidth:"max-width-fit-cont",onClick:()=>{s.current.click()}},"Pick File")),!c&&null==e.data&&l.a.createElement("p",null,e.errorText))});const N=(e,a)=>{switch(a.type){case"INPUT_CHANGE":let t=!0;for(const n in e.inputs)e.inputs[n]&&(t=n===a.inputId?t&&a.isValid:t&&e.inputs[n].isValid);return{...e,inputs:{...e.inputs,[a.inputId]:{value:a.value,isValid:a.isValid,isTouched:a.isTouched}},isValid:t};case"SET_DATA":return{inputs:a.inputs,isValid:a.formIsValid};default:return e}},y=(e,a,t)=>{const[l,r]=Object(n.useReducer)(N,{inputs:e,isValid:a,isTouched:t});return[l,Object(n.useCallback)((e,a,t,n)=>{r({type:"INPUT_CHANGE",value:a,isValid:t,inputId:e,isTouched:n})},[]),Object(n.useCallback)((e,a)=>{r({type:"SET_DATA",inputs:e,formIsValid:a})},[])]},S=()=>{const[e,a]=Object(n.useState)(!1),[t,l]=Object(n.useState)([]),r=Object(n.useRef)([]),o=Object(n.useCallback)((async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};a(!0);const c=new AbortController;r.current.push(c);try{const l=await fetch(e,{method:t,body:n,headers:o,signal:c.signal});let i;if(i=e.includes("download")?l.blob():await l.json(),r.current=r.current.filter(e=>e!==c),!l.ok)throw i.message;return a(!1),i}catch(i){throw l(i),a(!1),i}}),[]);return Object(n.useEffect)(()=>()=>{r.current.forEach(e=>e.abort())},[]),{isLoading:e,error:t,sendRequest:o,clearError:()=>{l(null)}}},C=Object(n.createContext)({isLoggedIn:!1,userId:null,userName:null,token:null,role:null,email:null,mobileNo:null,login:()=>{},logout:()=>{},image:null});t(68);const k="http://localhost:5000";var j=()=>{const e=Object(n.useContext)(C),[a,t]=Object(n.useState)(!0),{isLoading:r,error:o,sendRequest:c,clearError:i}=S(),[d,m,E]=y({email:{value:"",isValid:!1,isTouched:!1},password:{value:"",isValid:!1,isTouched:!1}},!1);return l.a.createElement(l.a.Fragment,null,l.a.createElement(v,{error:o,onClear:i}),r&&l.a.createElement(O,{asOverlay:!0}),!r&&l.a.createElement("div",{className:"authentication-container"},l.a.createElement(s,{className:"authentication"},l.a.createElement("form",{onSubmit:async t=>{if(t.preventDefault(),a)try{const a=await c("".concat(k,"/api/users/login"),"POST",JSON.stringify({email:d.inputs.email.value,password:d.inputs.password.value}),{"Content-Type":"application/json"});e.login(a.userId,a.token,a.name,a.mobileNo,a.role,a.email,a.image)}catch(n){}else try{const a=new FormData;a.append("folder","Manufacturers/"+d.inputs.name.value+"/Users"),a.append("email",d.inputs.email.value),a.append("name",d.inputs.name.value),a.append("mobileNo",d.inputs.mobileNo.value),a.append("password",d.inputs.password.value),a.append("image",d.inputs.image.value);const t=await c("".concat(k,"/api/users/signup"),"POST",a);e.login(t.userId,t.token,t.name,t.mobileNo,t.role,t.email,t.image)}catch(n){}}},l.a.createElement("h3",null,a?"Login here":"Please SignUp"),!a&&l.a.createElement(p,{element:"input",id:"name",type:"text",label:"Your Name",validators:[],errorText:"Please enter a name.",onInput:m}),!a&&l.a.createElement(w,{center:!0,id:"image",onInput:m,errorText:"Please provide an image."}),l.a.createElement(p,{element:"input",id:"email",type:"text",label:"E-Mail",validators:[{type:"REQUIRE"},{type:"EMAIL"}],errorText:"Please enter a valid email address.",onInput:m}),l.a.createElement(p,{element:"input",id:"password",type:"password",label:"Password",validators:[{type:"REQUIRE"},u(6)],errorText:"Please enter a valid password, at least 6 characters.",onInput:m}),!a&&l.a.createElement(p,{element:"input",id:"mobileNo",type:"text",label:"Mobile No",validators:[{type:"REQUIRE"},u(10)],errorText:"Please enter a valid mobile no, at least 10 characters.",onInput:m}),l.a.createElement(b,{type:"submit",disabled:!d.isValid},a?"Login":"Sign Up")),l.a.createElement(b,{position:"top",inverse:!0,onClick:()=>{a?E({...d.inputs,name:{value:"",isValid:!1,isTouched:!1},image:{value:null,isValid:!1,isTouched:!1},mobileNo:{value:null,isValid:!1,isTouched:!1}},!1):E({...d.inputs,name:void 0,image:void 0,mobileNo:void 0},d.inputs.email.isValid&&d.inputs.password.isValid),t(e=>!e)}},"Switch To ",a?"Sign Up":"Login")),l.a.createElement("div",{className:"photo_by inside_parts"},"Photo by"," ",l.a.createElement("a",{href:"https://picjumbo.com/author/viktorhanacek/"},"Viktor Hanacek")," ","from ",l.a.createElement("a",{href:"https://picjumbo.com"},"picjumbo.com"))))};t(69);var x=e=>l.a.createElement("header",{className:"main-header"},e.children);t(70);var P=e=>{const a=Object(n.useContext)(C),[t,r]=Object(n.useState)();return Object(n.useEffect)(()=>{r(a.role)},[a]),l.a.createElement("ul",{className:"nav-links"},a.isLoggedIn&&"Manufacturer"===t&&l.a.createElement("li",null,l.a.createElement(i.c,{to:"/products"},l.a.createElement("button",{type:"button",className:"button button--default button--inverse"},"Products"))),a.isLoggedIn&&"Manufacturer"===t&&l.a.createElement("li",null,l.a.createElement(i.c,{to:"/traders"},l.a.createElement("button",{type:"button",className:"button button--default button--inverse"},"Traders"))),a.isLoggedIn&&l.a.createElement("li",null,l.a.createElement("button",{onClick:a.logout,className:"button button--default button--inverse"},"Logout")))};t(71);var T=e=>{const a=l.a.createElement(E.a,{in:e.show,timeout:200,classNames:"slide-in-left",mountOnEnter:!0,unmountOnExit:!0},l.a.createElement("aside",{className:"side-drawer",onClick:e.onClick},e.children));return o.a.createPortal(a,document.getElementById("drawer-hook"))};t(72);var I=e=>{const[a,t]=Object(n.useState)(),[r,o]=Object(n.useState)(),[c,s]=Object(n.useState)(),u=Object(n.useContext)(C);Object(n.useEffect)(()=>{let e;t(u.role),s(u.userName),u.image&&(e="http://localhost:5000/"+u.image.replace(/\\/g,"/"),o(e))},[u]);const[d,m]=Object(n.useState)(!1),p=()=>{m(!1)};return l.a.createElement(l.a.Fragment,null,d&&l.a.createElement(h,{onClick:p}),a&&l.a.createElement(T,{show:d,onClick:p},l.a.createElement("nav",{className:"main-navigation__drawer-nav"},l.a.createElement("h1",{className:"main-navigation__title"},a&&"Manufacturer"===a?l.a.createElement(i.c,{to:"/dashboardManufacturer"},l.a.createElement("img",{src:r,alt:c})):null,a&&"Admin"===a?l.a.createElement(i.c,{to:"/dashboardAdmin"},l.a.createElement("img",{src:r,alt:c})):null,a&&"Trader"===a?l.a.createElement(i.c,{to:"/dashboardTrader"},l.a.createElement("img",{src:r,alt:c})):null),l.a.createElement(P,null))),a&&l.a.createElement(x,null,l.a.createElement("button",{className:"main-navigation__menu-btn",onClick:()=>{m(!0)}},l.a.createElement("span",null),l.a.createElement("span",null),l.a.createElement("span",null)),a&&l.a.createElement("h1",{className:"main-navigation__title large_screen"},a&&"Manufacturer"===a?l.a.createElement(i.c,{to:"/dashboardManufacturer"},l.a.createElement("img",{src:r,alt:c})):null,a&&"Admin"===a?l.a.createElement(i.c,{to:"/dashboardAdmin"},l.a.createElement("img",{src:r,alt:c})):null,a&&"Trader"===a?l.a.createElement(i.c,{to:"/dashboardTrader"},l.a.createElement("img",{src:r,alt:c})):null),l.a.createElement("nav",{className:"main-navigation__header-nav"},l.a.createElement(P,null))))};var A=t(21),R=t.n(A),J=(t(75),t(76),t(26)),V=t(36);var D=e=>{let{productdata:a,handleClose:t}=e;const{isLoading:r,error:o,sendRequest:c,clearError:i}=S(),s=Object(n.useContext)(C),[d,m]=Object(n.useState)([]),[E,h]=Object(n.useState)([]),g=Object(V.a)(),[f,N]=Object(n.useState)();Object(n.useEffect)(()=>{a&&(a.dmf.length>0&&h(JSON.parse(a.dmf)),a.pharmacopoeias.length>0&&m(JSON.parse(a.pharmacopoeias)),N(a))},[a]);const j=Object(n.useCallback)(e=>{const a=new FileReader;let t=localStorage.getItem("userData"),n=e.target.value;c("".concat(k,"/api/download?file=").concat(n),"GET",null,{Authorization:"Bearer "+JSON.parse(t).token,responseType:"blob"}).then(e=>{a.readAsDataURL(new Blob([e]))}).catch(e=>console.log(e));let l=n.split("/").pop();a.addEventListener("loadend",()=>{const e=a.result,t=document.createElement("a");t.href=e,t.setAttribute("download",l),document.body.appendChild(t),t.click()})},[c]),[x,P]=y({title:{value:"",isValid:!1},description:{value:"",isValid:!1},price:{value:"",isValid:!1},image:{value:null,isValid:!0},coa:{value:null,isValid:!0},msds:{value:null,isValid:!0},cep:{value:null,isValid:!0},qos:{value:null,isValid:!0},dmf:{value:null,isValid:!0},impurities:{value:null,isValid:!0},refStandards:{value:null,isValid:!0},pharmacopoeias:{value:null,isValid:!0}});return l.a.createElement(l.a.Fragment,null,l.a.createElement(v,{error:o,onClear:i}),r&&l.a.createElement(O,{asOverlay:!0}),!r&&f&&l.a.createElement("form",{className:"place-form",onSubmit:async e=>{e.preventDefault(),N(null);try{const e=new FormData;if(e.append("folder","Manufacturers/"+s.userName+"/Products/"+x.inputs.title.value.toLowerCase().split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ").trim()),e.append("title",x.inputs.title.value),e.append("description",x.inputs.description.value),e.append("price",x.inputs.price.value),e.append("image",x.inputs.image.value),e.append("coa",x.inputs.coa.value),e.append("msds",x.inputs.msds.value),e.append("cep",x.inputs.cep.value),e.append("qos",x.inputs.qos.value),e.append("dmf",JSON.stringify(E)),e.append("impurities",x.inputs.impurities.value),e.append("refStandards",x.inputs.refStandards.value),e.append("pharmacopoeias",JSON.stringify(d)),a&&a.id){const t=await c("".concat(k,"/api/products/").concat(a.id),"PATCH",e,{Authorization:"Bearer "+s.token});N(e=>t.product)}else{const a=await c("".concat(k,"/api/products/create"),"POST",e,{Authorization:"Bearer "+s.token});N(a.product)}t()}catch(n){console.log(n)}}},r&&l.a.createElement(O,{asOverlay:!0}),l.a.createElement(p,{id:"title",element:"input",type:"text",label:"Title",validators:[{type:"REQUIRE"}],errorText:"Please enter a valid title.",onInput:P,initialValue:f&&f.title}),l.a.createElement(p,{id:"description",element:"textarea",label:"Description",validators:[{type:"REQUIRE"},u(5)],errorText:"Please enter a valid description (at least 5 characters).",onInput:P,initialValue:f&&f.description}),l.a.createElement(p,{id:"price",element:"input",label:"price",validators:[{type:"REQUIRE"},{type:"REQUIRE"}],errorText:"Please enter a price.",onInput:P,initialValue:f&&f.price}),l.a.createElement(w,{id:"image",onInput:P,errorText:"Please provide an product image.",data:f&&f.image||null}),f&&f.image?l.a.createElement("button",{type:"button",value:f.image,onClick:e=>j(e)},"Download Product Image"):null,l.a.createElement(w,{id:"coa",onInput:P,errorText:"Please provide sample COA.",data:f&&f.coa||null}),f&&f.coa?l.a.createElement("button",{type:"button",value:f.coa,onClick:e=>j(e)},"Download COA"):null,l.a.createElement(w,{id:"msds",onInput:P,errorText:"Please provide an MSDS.",data:f&&f.msds||null}),f&&f.msds?l.a.createElement("button",{type:"button",value:f.msds,onClick:e=>j(e)},"Download MSDS"):null,l.a.createElement(w,{id:"cep",onInput:P,errorText:"Please provide a Certificate of Suitability.",data:f&&f.cep||null}),f&&f.cep?l.a.createElement("button",{type:"button",value:f.cep,onClick:e=>j(e)},"Download Certificate of Suitability"):null,l.a.createElement(w,{id:"qos",onInput:P,errorText:"Please provide an Quality Overall Summary.",data:f&&f.qos||null}),f&&f.qos?l.a.createElement("button",{type:"button",value:f.qos,onClick:e=>j(e)},"Download Quality Overall Summary"):null,l.a.createElement(p,{id:"impurities",element:"textarea",label:"Impurities",validators:[u(5)],errorText:"Please enter Impurities separated by comma.",onInput:P,initialValue:f&&f.impurities}),l.a.createElement(p,{id:"refStandards",element:"textarea",label:"Reference Standards",validators:[u(5)],errorText:"Please enter Reference Standards separated by comma.",onInput:P,initialValue:f&&f.refStandards}),l.a.createElement(J.a,{defaultValue:f&&f.dmf&&f.dmf.length>0&&[...JSON.parse(f.dmf)],maxMenuHeight:150,closeMenuOnSelect:!1,components:g,isMulti:!0,options:[{value:"USDMF",label:"US DMF"},{value:"BRAZILDMF",label:"Brazilian DMF"},{value:"KOREADMF",label:"Korean DMF"},{value:"EUDMF",label:"European DMF"},{value:"RUSSIANDMF",label:"Russian DMF"},{value:"NA",label:"Not Available"}],placeholder:"Select DMF",onChange:e=>{h(e)}}),l.a.createElement("div",{className:"height25"}),l.a.createElement(J.a,{defaultValue:f&&f.pharmacopoeias&&f.pharmacopoeias.length>0&&[...JSON.parse(f.pharmacopoeias)],maxMenuHeight:100,closeMenuOnSelect:!1,components:g,isMulti:!0,options:[{value:"IP",label:"Indian Pharmacopoeia",selectedLabel:"IP"},{value:"BP",label:"British Pharmacopoeia",selectedLabel:"BP"},{value:"USP",label:"US Pharmacopoeia",selectedLabel:"USP"},{value:"JP",label:"Japanese Pharmacopoeia",selectedLabel:"JP"},{value:"EP",label:"European Pharmacopoeia",selectedLabel:"EP"},{value:"InHouse",label:"In House",selectedLabel:"In House"}],placeholder:"Select Pharmacopoeia",onChange:e=>{m(e)},formatOptionLabel:(e,a)=>{let{context:t}=a;return"value"===t?e.selectedLabel:e.label}}),l.a.createElement("div",{className:"height25"}),l.a.createElement(b,{type:"submit",normal:"normal-button",buttonfont:"button-font",maxwidth:"max-width-fit-cont",disabled:!x.isValid},"SAVE")))};var M=e=>{const{isLoading:a,error:t,sendRequest:r,clearError:o}=S(),c=Object(n.useContext)(C),[i,u]=Object(n.useState)(!1),[d,m]=Object(n.useState)([]),[p,E]=Object(n.useState)(),[h,g]=Object(n.useState)(!1),[w,N]=Object(n.useState)(0),[y,j]=Object(n.useState)(10),[x,P]=Object(n.useState)(1),[T,I]=Object(n.useState)(!1),A=l.a.createElement("div",{className:"header-cont"},l.a.createElement("div",{className:"sub-header"}),l.a.createElement("div",{className:"last-column"},"Pharmacopoeias")),J=Object(n.useCallback)(async()=>{try{const e=await r("".concat(k,"/api/manufacturers/").concat(c.userId),"GET",null,{Authorization:"Bearer "+c.token});e.manufacturer&&e.manufacturer.length>0?I(!0):I(!1)}catch(e){}},[c.token,c.userId,r]),V=Object(n.useCallback)(async e=>{if(c.userId){g(!0);try{const a=await r("".concat(k,"/api/products/manufacturer/id?uid=").concat(c.userId,"&page=").concat(e,"&size=").concat(y,"&delay=1"),"GET",null,{Authorization:"Bearer "+c.token});m(e=>a.products),N(a.total),g(!1)}catch(a){console.log(a)}}},[y,r,c]),M=Object(n.useCallback)(e=>{const a=new FileReader;let t=e.target.id;r("".concat(k,"/api/download?file=").concat(t),"GET",null,{Authorization:"Bearer "+c.token,responseType:"blob"}).then(e=>{a.readAsDataURL(new Blob([e]))}).catch(e=>console.log(e));let n=t.split("/").pop();a.addEventListener("loadend",()=>{const e=a.result,t=document.createElement("a");t.href=e,t.setAttribute("download",n),document.body.appendChild(t),t.click()})},[r,c]),L=Object(n.useCallback)(async e=>{let a=JSON.parse(e.target.value).id;try{a&&(await r("".concat(k,"/api/products/").concat(a),"DELETE",null,{Authorization:"Bearer "+c.token}),V(1))}catch(t){}},[r,c,V]),_=e=>{u(!0),E(JSON.parse(e.target.value))},B=(e,a)=>{a.preventDefault(),E(e),u(!0)},z=()=>{E(null),u(!1)},U=Object(n.useMemo)(()=>[{name:"SN",selector:e=>e.serialNo,width:"60px"},{cell:e=>l.a.createElement("button",{onClick:_,value:JSON.stringify(e)},"Edit"),ignoreRowClick:!0,allowOverflow:!0,button:!0,width:"100px",name:"Action"},{cell:e=>l.a.createElement("button",{onClick:L,value:JSON.stringify(e)},"Delete"),ignoreRowClick:!0,allowOverflow:!0,button:!0,width:"100px",name:"Action"},{name:"Product",selector:e=>e.title,sortable:!0,right:!0,width:"200px"},{name:"Description",selector:e=>e.description,sortable:!0,right:!0,width:"200px"},{name:"Price",selector:e=>e.price,sortable:!0,right:!0,width:"100px"},{name:"COA",cell:e=>e.coa?l.a.createElement("button",{onClick:M,value:JSON.stringify(e),id:e.coa}," ","Download"," "):"NA",ignoreRowClick:!0,allowOverflow:!0,button:!0,width:"100px"},{name:"MSDS",cell:e=>e.msds?l.a.createElement("button",{onClick:M,value:JSON.stringify(e),id:e.msds}," ","Download"," "):"NA",ignoreRowClick:!0,allowOverflow:!0,button:!0,width:"100px"},{name:"CEP",cell:e=>e.cep?l.a.createElement("button",{onClick:M,value:JSON.stringify(e),id:e.cep}," ","Download"," "):"NA",ignoreRowClick:!0,allowOverflow:!0,button:!0,width:"100px"},{name:"QOS",cell:e=>e.qos?l.a.createElement("button",{onClick:M,value:JSON.stringify(e),id:e.qos}," ","Download"," "):"NA",ignoreRowClick:!0,allowOverflow:!0,button:!0,width:"100px"},{name:"DMF",cell:e=>{if(JSON.parse(JSON.stringify(e.dmf).length>0)){let a=JSON.parse(e.dmf).map(e=>e.label);return a=a.map((e,a)=>l.a.createElement("div",{key:a},e)),a=l.a.createElement("div",{className:"list-dmf-container scroller"},a),a}return"No"},ignoreRowClick:!0,allowOverflow:!0,button:!0,width:"100px"},{name:"IP",cell:e=>JSON.parse(JSON.stringify(e.pharmacopoeias[0])).includes("IP")?l.a.createElement("span",{className:"check",role:"img","aria-label":"check"}," ","\u2714"," "):l.a.createElement("span",{className:"cross",role:"img","aria-label":"cross"}," ","\u274c"," "),width:"15px"},{name:"BP",cell:e=>JSON.parse(JSON.stringify(e.pharmacopoeias[0])).includes("BP")?l.a.createElement("span",{className:"check",role:"img","aria-label":"check"}," ","\u2714"," "):l.a.createElement("span",{className:"cross",role:"img","aria-label":"cross"}," ","\u274c"," "),width:"15px"},{name:"EP",cell:e=>JSON.parse(JSON.stringify(e.pharmacopoeias[0])).includes("EP")?l.a.createElement("span",{className:"check",role:"img","aria-label":"check"}," ","\u2714"," "):l.a.createElement("span",{className:"cross",role:"img","aria-label":"cross"}," ","\u274c"," "),width:"15px"},{name:"JP",cell:e=>JSON.parse(JSON.stringify(e.pharmacopoeias[0])).includes("JP")?l.a.createElement("span",{className:"check",role:"img","aria-label":"check"}," ","\u2714"," "):l.a.createElement("span",{className:"cross",role:"img","aria-label":"cross"}," ","\u274c"," "),width:"15px"},{name:"USP",cell:e=>JSON.parse(JSON.stringify(e.pharmacopoeias[0])).includes("USP")?l.a.createElement("span",{className:"check",role:"img","aria-label":"check"}," ","\u2714"," "):l.a.createElement("span",{className:"cross",role:"img","aria-label":"cross"}," ","\u274c"," "),width:"15px"},{name:"In House",cell:e=>JSON.parse(JSON.stringify(e.pharmacopoeias[0])).includes("InHouse")?l.a.createElement("span",{className:"check",role:"img","aria-label":"check"}," ","\u2714"," "):l.a.createElement("span",{className:"cross",role:"img","aria-label":"cross"}," ","\u274c"," "),width:"15px"}],[M,L]);return Object(n.useEffect)(()=>{V(1)},[V]),Object(n.useEffect)(()=>{i||V(1)},[i,V]),Object(n.useEffect)(()=>{c.userId&&J()},[J,c.userId]),T?0===(null===d||void 0===d?void 0:d.length)?l.a.createElement(l.a.Fragment,null,l.a.createElement(v,{error:t,onClear:o}),l.a.createElement("div",{className:"place-list center"},l.a.createElement(s,{className:"card-product"},l.a.createElement("h2",null,"No products found"),l.a.createElement(b,{type:"button",onClick:e=>B({title:"",description:"",price:"",image:"",coa:"",msds:"",cep:"",qos:"",impurities:"",refStandards:"",dmf:[],pharmacopoeias:[],id:"",manufacturer:"",traders:[]},e),normal:"normal-button",buttonfont:"button-font",maxwidth:"max-width-fit-cont"},"Add Product"),l.a.createElement(f,{show:i,onCancel:z,header:"Add Product",contentClass:"place-item__modal-content",footerClass:"place-item__modal-actions abc",footer:l.a.createElement(b,{type:"button",onClick:z,normal:"normal-button",buttonfont:"button-font",maxwidth:"max-width-fit-cont"},"CLOSE")},l.a.createElement("div",{className:"map-container"},l.a.createElement(D,{productdata:p,handleClose:z})))))):l.a.createElement(l.a.Fragment,null,l.a.createElement(v,{error:t,onClear:o}),a&&l.a.createElement(O,{asOverlay:!0}),!a&&l.a.createElement(s,{className:"card-product place-list center"},l.a.createElement(b,{type:"button",onClick:e=>B({title:"",description:"",price:"",image:"",coa:"",msds:"",cep:"",qos:"",impurities:"",refStandards:"",dmf:[],pharmacopoeias:[],id:"",manufacturer:"",traders:[]},e),normal:"normal-button",buttonfont:"button-font",maxwidth:"max-width-fit-cont"},"Add Product")),d&&!a&&l.a.createElement(l.a.Fragment,null,l.a.createElement(R.a,{columns:U,data:d,progressPending:h,pagination:!0,paginationServer:!0,paginationTotalRows:w,onChangeRowsPerPage:async(e,a)=>{let t=localStorage.getItem("userData"),n=JSON.parse(t).userId;g(!0);try{const t=await r("".concat(k,"/api/products/manufacturer/id?uid=").concat(n,"&page=").concat(a,"&size=").concat(e,"&delay=1"),"GET",null,{Authorization:"Bearer "+c.token});m(t.products),j(e),g(!1)}catch(l){}},onChangePage:e=>{V(e),P(e)},paginationDefaultPage:x,paginationPerPage:y,subHeaderComponent:A,subHeader:!0}),l.a.createElement(f,{show:i,onCancel:z,header:p&&p.title||"Add Product",contentClass:"place-item__modal-content",footerClass:"place-item__modal-actions",footer:l.a.createElement(b,{type:"button",onClick:z,normal:"normal-button",buttonfont:"button-font",maxwidth:"max-width-fit-cont"},"CLOSE")},l.a.createElement("div",{className:"map-container"},l.a.createElement(D,{productdata:p,handleClose:z}))))):l.a.createElement(l.a.Fragment,null,l.a.createElement(v,{error:t,onClear:o}),l.a.createElement("div",{className:"place-list center"},l.a.createElement(s,{className:"card-product"},l.a.createElement("h2",null,"Please fill the Manufacturer's details in dashboard. So as to add products"))))};t(94),t(95);var L=e=>{let{traderData:a,handleClose:t}=e;const r=Object(n.useRef)(!1),{isLoading:o,error:c,sendRequest:i,clearError:s}=S(),[u,d]=Object(n.useState)(),[m,E]=Object(n.useState)([]),[h,g]=Object(n.useState)(!0),[w,N]=Object(n.useState)(),j=Object(n.useContext)(C),x=Object(V.a)(),[P,T]=Object(n.useState)(!1),[I,A]=Object(n.useState)();let R=[];Object(n.useEffect)(()=>{a&&N(JSON.parse(JSON.stringify(a.products)))},[a]);const D=Object(n.useCallback)(async e=>{try{const t=(await i("".concat(k,"/api/products/manufacturer/id?uid=").concat(j.userId,"&page=").concat(e,"&size=",1e3,"&delay=1"),"GET",null,{Authorization:"Bearer "+j.token})).products.map(e=>({...e,label:e.title,value:e.title}));if(d(t),a&&t){(a&&a.products&&a.products.length>0&&[...JSON.parse(JSON.stringify(a.products))]).forEach(e=>R.push(t.filter(a=>a._id===e)[0]));let e,n=[],l=[],r=R.length;for(e=0;e<r;e++)n[R[e].id]||(n[R[e].id]=!0,l.push(R[e]));E(l),g(!1)}}catch(t){console.log(t)}},[i,j,R,a]),M=e=>{if(e){const a=e.map(e=>e._id);N(a)}},[L,_]=y({title:{value:"",isValid:!1},email:{value:"",isValid:!1},address:{value:null,isValid:!0},products:{value:null,isValid:!0}});Object(n.useEffect)(()=>{r.current||D(1),r.current=!0},[D]);const B=()=>{T(!1),t()};return l.a.createElement(l.a.Fragment,null,l.a.createElement(v,{error:c,onClear:s}),o&&l.a.createElement(O,{asOverlay:!0}),!o&&l.a.createElement("form",{className:"place-form",onSubmit:async e=>{e.preventDefault();try{const e={title:L.inputs.title.value,email:L.inputs.email.value,address:L.inputs.address.value,products:JSON.stringify(w),folder:"Manufacturers/"+j.userName+"/Traders/"+L.inputs.title.value};if(a&&a.id)await i("".concat(k,"/api/traders/").concat(a.id),"PATCH",JSON.stringify(e),{Authorization:"Bearer "+j.token,"Content-Type":"application/json"});else{const a=await i("".concat(k,"/api/traders/create"),"POST",JSON.stringify(e),{Authorization:"Bearer "+j.token,"Content-Type":"application/json"});T(!0),A({username:"Username is "+a.trader.email,password:"And Password is "+a.password})}}catch(t){}}},l.a.createElement(p,{id:"title",element:"input",type:"text",label:"Title",validators:[{type:"REQUIRE"}],errorText:"Please enter a valid title.",onInput:_,initialValue:a&&a.title}),l.a.createElement(p,{id:"email",element:"textarea",label:"Email",validators:[{type:"EMAIL"}],errorText:"Please enter a valid email.",onInput:_,initialValue:a&&a.email}),l.a.createElement(p,{id:"address",element:"address",label:"address",errorText:"Please enter a address.",onInput:_,validators:[{type:"REQUIRE"}],initialValue:a&&a.address}),u&&m&&!h&&l.a.createElement(J.a,{defaultValue:m,closeMenuOnSelect:!1,components:x,isMulti:!0,options:u,placeholder:"Select Products",onChange:M,formatOptionLabel:(e,a)=>{let{context:t}=a;return"value"===t?e.value:e.label}}),u&&m&&h&&l.a.createElement(J.a,{defaultValue:m,closeMenuOnSelect:!1,components:x,isMulti:!0,options:u,placeholder:"Select Products",onChange:M,formatOptionLabel:(e,a)=>{let{context:t}=a;return"value"===t?e.value:e.label}}),l.a.createElement("div",{className:"height25"}),l.a.createElement(b,{type:"submit",normal:"normal-button",buttonfont:"button-font",maxwidth:"max-width-fit-cont",disabled:!L.isValid},"SAVE")),l.a.createElement(f,{show:P,onCancel:B,header:"Trader Login Details",contentClass:"place-item__modal-content",footerClass:"place-item__modal-actions",footer:l.a.createElement(b,{type:"button",onClick:B,normal:"normal-button",buttonfont:"button-font",maxwidth:"max-width-fit-cont"},"CLOSE")},l.a.createElement("div",{className:"message-container"},l.a.createElement("div",{className:"message-text"},I&&I.username),l.a.createElement("div",{className:"message-text"},I&&I.password))))};var _=e=>{const{isLoading:a,error:t,sendRequest:r,clearError:o}=S(),c=Object(n.useContext)(C),i=Object(n.useRef)(!1),u=Object(n.useRef)(!1),[d,m]=Object(n.useState)(!1),[p,E]=Object(n.useState)(!1),[h,g]=Object(n.useState)(),[w,N]=Object(n.useState)([]),[y,j]=Object(n.useState)(),[x,P]=Object(n.useState)(!1),[T,I]=Object(n.useState)(0),[A,J]=Object(n.useState)(0),[V,D]=Object(n.useState)(10),[M,_]=Object(n.useState)([]),[B,z]=Object(n.useState)([]),[U,F]=Object(n.useState)(1),H=l.a.createElement("div",{className:"header-cont"},l.a.createElement("div",{className:"sub-header"}),l.a.createElement("div",{className:"last-column"},"Pharmacopoeias")),G=Object(n.useCallback)(async e=>{P(!0);try{const a=await r("".concat(k,"/api/traders/manufacturer/").concat(c.userId,"?page=").concat(e,"&size=").concat(V,"&delay=1"),"GET",null,{Authorization:"Bearer "+c.token});N(a.traders),I(a.total),P(!1)}catch(a){console.log(a)}},[V,r,c]),q=Object(n.useCallback)(e=>{m(!0),j(JSON.parse(e.target.value))},[]),Q=Object(n.useCallback)(async e=>{let a=JSON.parse(e.target.value).id;try{a&&(await r("".concat(k,"/api/traders/").concat(a),"DELETE",null,{Authorization:"Bearer "+c.token}),G(1))}catch(t){}},[r,c,G]),Y=Object(n.useCallback)(async e=>{if(h)try{const a=await r("".concat(k,"/api/products/trader/id?uid=").concat(h,"&page=").concat(e,"&size=").concat(V,"&delay=1"),"GET",null,{Authorization:"Bearer "+c.token});_(a.products),J(a.total),P(!1),E(!0)}catch(a){console.log(a)}},[h,c.token,V,r]),K=Object(n.useCallback)(async e=>{P(!0);try{const a=await r("".concat(k,"/api/products/manufacturer/id?uid=").concat(c.userId,"&page=").concat(e,"&size=").concat(V,"&delay=1"),"GET",null,{Authorization:"Bearer "+c.token});z(a.products),P(!1)}catch(a){console.log(a)}},[V,r,c]),X=Object(n.useCallback)(async e=>{g(e.id),P(!0),Y(1)},[Y]);Object(n.useEffect)(()=>{Y(1)},[h,Y]);const Z=(e,a)=>{a.preventDefault(),j(e),m(!0)},$=()=>{m(!1)},W=()=>{E(!1)},ee=Object(n.useCallback)(e=>{X(JSON.parse(e.target.value))},[X]),ae=Object(n.useMemo)(()=>[{name:"SN",selector:e=>e.serialNo,width:"60px"},{cell:e=>l.a.createElement("button",{onClick:q,value:JSON.stringify(e)},"Edit"),ignoreRowClick:!0,allowOverflow:!0,button:!0,width:"100px",name:"Action"},{cell:e=>l.a.createElement("button",{onClick:Q,value:JSON.stringify(e)},"Delete"),ignoreRowClick:!0,allowOverflow:!0,button:!0,width:"100px",name:"Action"},{name:"Trader",selector:e=>e.title,sortable:!0,right:!0,width:"200px"},{name:"Email",selector:e=>e.email,sortable:!0,right:!0,width:"200px"},{name:"Address",selector:e=>e.address,sortable:!0,right:!0,width:"100px"},{name:"Products",cell:e=>e.products?l.a.createElement("button",{onClick:ee,value:JSON.stringify(e)}," ","Products"," "):"NA",ignoreRowClick:!0,allowOverflow:!0,button:!0,width:"250px"}],[ee,Q,q]),te=Object(n.useMemo)(()=>[{name:"SN",selector:e=>e.serialNo,width:"60px"},{name:"Product",selector:e=>e.title,sortable:!0,right:!0,width:"200px"},{name:"Description",selector:e=>e.description,sortable:!0,right:!0,width:"200px"},{name:"Price",selector:e=>e.price,sortable:!0,right:!0,width:"100px"},{name:"COA",cell:e=>e.coa?"Yes":"NA",ignoreRowClick:!0,allowOverflow:!0,button:!0,width:"100px"},{name:"MSDS",cell:e=>e.msds?"Yes":"NA",ignoreRowClick:!0,allowOverflow:!0,button:!0,width:"100px"},{name:"CEP",cell:e=>e.cep?"Yes":"NA",ignoreRowClick:!0,allowOverflow:!0,button:!0,width:"100px"},{name:"QOS",cell:e=>e.qos?"Yes":"NA",ignoreRowClick:!0,allowOverflow:!0,button:!0,width:"100px"},{name:"DMF",cell:e=>{if(JSON.parse(JSON.stringify(e.dmf).length>0)){let a=JSON.parse(e.dmf).map(e=>e.label);return a=a.map((e,a)=>l.a.createElement("div",{key:a},e)),a=l.a.createElement("div",{className:"list-dmf-container scroller"},a),a}return"No"},ignoreRowClick:!0,allowOverflow:!0,button:!0,width:"100px"},{name:"IP",cell:e=>JSON.parse(JSON.stringify(e.pharmacopoeias[0])).includes("IP")?l.a.createElement("span",{className:"check",role:"img","aria-label":"check"}," ","\u2714"," "):l.a.createElement("span",{className:"cross",role:"img","aria-label":"cross"}," ","\u274c"," "),width:"15px"},{name:"BP",cell:e=>JSON.parse(JSON.stringify(e.pharmacopoeias[0])).includes("BP")?l.a.createElement("span",{className:"check",role:"img","aria-label":"check"}," ","\u2714"," "):l.a.createElement("span",{className:"cross",role:"img","aria-label":"cross"}," ","\u274c"," "),width:"15px"},{name:"EP",cell:e=>JSON.parse(JSON.stringify(e.pharmacopoeias[0])).includes("EP")?l.a.createElement("span",{className:"check",role:"img","aria-label":"check"}," ","\u2714"," "):l.a.createElement("span",{className:"cross",role:"img","aria-label":"cross"}," ","\u274c"," "),width:"15px"},{name:"JP",cell:e=>JSON.parse(JSON.stringify(e.pharmacopoeias[0])).includes("JP")?l.a.createElement("span",{className:"check",role:"img","aria-label":"check"}," ","\u2714"," "):l.a.createElement("span",{className:"cross",role:"img","aria-label":"cross"}," ","\u274c"," "),width:"15px"},{name:"USP",cell:e=>JSON.parse(JSON.stringify(e.pharmacopoeias[0])).includes("USP")?l.a.createElement("span",{className:"check",role:"img","aria-label":"check"}," ","\u2714"," "):l.a.createElement("span",{className:"cross",role:"img","aria-label":"cross"}," ","\u274c"," "),width:"15px"},{name:"In House",cell:e=>JSON.parse(JSON.stringify(e.pharmacopoeias[0])).includes("InHouse")?l.a.createElement("span",{className:"check",role:"img","aria-label":"check"}," ","\u2714"," "):l.a.createElement("span",{className:"cross",role:"img","aria-label":"cross"}," ","\u274c"," "),width:"15px"}],[]);return Object(n.useEffect)(()=>{i.current||G(1),i.current=!0},[G]),Object(n.useEffect)(()=>{u.current||K(1),u.current=!0},[K]),Object(n.useEffect)(()=>{d||G(1)},[d,G]),0===B.length?l.a.createElement(l.a.Fragment,null,l.a.createElement(v,{error:t,onClear:o}),l.a.createElement("div",{className:"place-list center"},l.a.createElement(s,{className:"card-product"},l.a.createElement("h2",null,"No Products found. Please add products first and then add Trader")))):w&&0===w.length&&B.length>0?l.a.createElement(l.a.Fragment,null,l.a.createElement(v,{error:t,onClear:o}),l.a.createElement("div",{className:"place-list center"},l.a.createElement(s,{className:"card-product"},l.a.createElement("h2",null,"No traders found"),l.a.createElement(b,{type:"button",onClick:e=>Z(null,e),normal:"normal-button",buttonfont:"button-font",maxwidth:"max-width-fit-cont"},"Add Trader"),l.a.createElement(f,{show:d,onCancel:$,header:"Add Trader",contentClass:"place-item__modal-content",footerClass:"place-item__modal-actions abc",footer:l.a.createElement(b,{type:"button",onClick:$,normal:"normal-button",buttonfont:"button-font",maxwidth:"max-width-fit-cont"},"CLOSE")},l.a.createElement("div",{className:"map-container"},l.a.createElement(L,{traderData:null,handleClose:$})))))):l.a.createElement(l.a.Fragment,null,l.a.createElement(v,{error:t,onClear:o}),a&&l.a.createElement(O,{asOverlay:!0}),!a&&l.a.createElement(s,{className:"card-product place-list center"},l.a.createElement(b,{type:"button",onClick:e=>Z(null,e),normal:"normal-button",buttonfont:"button-font",maxwidth:"max-width-fit-cont"},"Add Trader")),w&&!a&&l.a.createElement(l.a.Fragment,null,l.a.createElement(R.a,{columns:ae,data:w,progressPending:x,pagination:!0,paginationServer:!0,paginationTotalRows:T,onChangeRowsPerPage:async(e,a)=>{P(!0);try{const t=await r("".concat(k,"/api/traders/manufacturer/").concat(c.userId,"?page=").concat(a,"&size=").concat(V,"&delay=1"),"GET",null,{Authorization:"Bearer "+c.token});_(t.products),D(e),P(!1)}catch(t){}},onChangePage:e=>{G(e),F(e)}}),l.a.createElement(f,{show:d,onCancel:$,header:y&&y.title||"Add Trader",contentClass:"place-item__modal-content",footerClass:"place-item__modal-actions",footer:l.a.createElement(b,{type:"button",onClick:$,normal:"normal-button",buttonfont:"button-font",maxwidth:"max-width-fit-cont"},"CLOSE")},l.a.createElement("div",{className:"map-container"},l.a.createElement(L,{traderData:y,handleClose:$})))),l.a.createElement(f,{show:p,onCancel:W,header:"Products",contentClass:"place-item__modal-content",footerClass:"place-item__modal-actions abc",footer:l.a.createElement(b,{type:"button",onClick:W,normal:"normal-button",buttonfont:"button-font",maxwidth:"max-width-fit-cont"},"CLOSE")},l.a.createElement("div",{className:"map-container"},l.a.createElement(R.a,{columns:te,data:M,progressPending:x,pagination:!0,paginationServer:!0,paginationTotalRows:A,onChangeRowsPerPage:async(e,a)=>{P(!0);try{const t=await r("".concat(k,"/api/products/trader/id?uid=").concat(h,"&page=").concat(a,"&size=").concat(V,"&delay=1"),"GET",null,{Authorization:"Bearer "+c.token});_(t.products),D(e),P(!1)}catch(t){}},onChangePage:e=>{Y(e)},paginationDefaultPage:U,paginationPerPage:V,subHeaderComponent:H,subHeader:!0}))))};t(96);var B=e=>{const{isLoading:a,error:t,sendRequest:r,clearError:o}=S(),c=Object(n.useContext)(C),i=Object(n.useRef)(!1),u=Object(n.useRef)(!1),[d,m]=Object(n.useState)([]),[p,E]=Object(n.useState)([]),[h,g]=Object(n.useState)(!1),[f,w]=Object(n.useState)(0),[N,y]=Object(n.useState)(0),[j,x]=Object(n.useState)(10),[P,T]=Object(n.useState)(1),[I,A]=Object(n.useState)(10),[J,V]=Object(n.useState)(1),[D,M]=Object(n.useState)("manufacturers"),L=Object(n.useCallback)(async e=>{g(!0);try{const a=await r("".concat(k,"/api/users/traderslist?page=").concat(e,"&size=").concat(I,"&delay=1"),"GET",null,{Authorization:"Bearer "+c.token});m(a.traders),w(a.total),g(!1)}catch(a){console.log(a)}},[I,r,c]),_=Object(n.useCallback)(async e=>{g(!0);try{const a=await r("".concat(k,"/api/users/manufacturerslist?page=").concat(e,"&size=").concat(j,"&delay=1"),"GET",null,{Authorization:"Bearer "+c.token});E(a.manufacturers),y(a.total),g(!1)}catch(a){console.log(a)}},[j,r,c]),B=Object(n.useCallback)(async e=>{let a=JSON.parse(e.target.value).id;try{a&&(await r("".concat(k,"/api/traders/").concat(a),"DELETE",null,{Authorization:"Bearer "+c.token}),L(1))}catch(t){}},[r,c,L]),z=Object(n.useCallback)(async e=>{let a=JSON.parse(e.target.value).id;try{a&&(await r("".concat(k,"/api/manufacturers/").concat(a),"DELETE",null,{Authorization:"Bearer "+c.token}),_(1))}catch(t){}},[r,c,_]),U=Object(n.useMemo)(()=>[{name:"SN",selector:e=>e.serialNo,width:"60px"},{cell:e=>l.a.createElement("button",{onClick:B,value:JSON.stringify(e)},"Delete"),ignoreRowClick:!0,allowOverflow:!0,button:!0,width:"100px",name:"Action"},{name:"Trader",selector:e=>e.title,sortable:!0,right:!0,width:"auto"},{name:"Email",selector:e=>e.email,sortable:!0,right:!0,width:"auto"},{name:"Address",selector:e=>e.address,sortable:!0,right:!0,width:"auto"},{name:"Listing",selector:e=>e.listing,sortable:!0,right:!0,width:"auto"}],[B]),F=Object(n.useMemo)(()=>[{name:"SN",selector:e=>e.serialNo,width:"60px"},{cell:e=>l.a.createElement("button",{onClick:z,value:JSON.stringify(e)},"Delete"),ignoreRowClick:!0,allowOverflow:!0,button:!0,width:"100px",name:"Action"},{name:"Manufacturer",selector:e=>e.title,sortable:!0,right:!0,width:"auto"},{name:"Description",selector:e=>e.description,sortable:!0,right:!0,width:"auto"},{name:"Address",selector:e=>e.address,sortable:!0,right:!0,width:"auto"},{name:"Listing",selector:e=>e.listing,sortable:!0,right:!0,width:"auto"}],[z]);if(Object(n.useEffect)(()=>{i.current||L(1),i.current=!0},[L]),Object(n.useEffect)(()=>{u.current||_(1),u.current=!0},[_]),p&&0===p.length)return l.a.createElement("div",{className:"place-list center"},l.a.createElement(s,{className:"card-product"},l.a.createElement("h2",null,"No Manufacturers found.")));if(d&&0===d.length)return l.a.createElement("div",{className:"place-list center"},l.a.createElement(s,{className:"card-product"},l.a.createElement("h2",null,"No Traders found.")));function H(e){M(e),"manufacturers"===e?_(1):"traders"===e&&L(1)}return l.a.createElement(l.a.Fragment,null,l.a.createElement(v,{error:t,onClear:o}),a&&l.a.createElement(O,{asOverlay:!0}),!a&&l.a.createElement("div",{className:"tab-container"},l.a.createElement(b,{onClick:()=>H("manufacturers")},"Manufacturers"),l.a.createElement(b,{onClick:()=>H("traders")},"Traders")),p&&!a&&"manufacturers"===D&&l.a.createElement(l.a.Fragment,null,l.a.createElement(R.a,{columns:F,data:p,progressPending:h,pagination:!0,paginationServer:!0,paginationTotalRows:N,paginationDefaultPage:P,paginationPerPage:j,onChangeRowsPerPage:async(e,a)=>{g(!0);try{const t=await r("".concat(k,"/users/manufacturerslist?page=").concat(a,"&size=").concat(j,"&delay=1"),"GET",null,{Authorization:"Bearer "+c.token});E(t.manufacturers),x(e),g(!1)}catch(t){}},onChangePage:e=>{_(e),T(e)}})),d&&!a&&"traders"===D&&l.a.createElement(l.a.Fragment,null,l.a.createElement(R.a,{columns:U,data:d,progressPending:h,pagination:!0,paginationServer:!0,paginationTotalRows:f,paginationDefaultPage:J,paginationPerPage:I,onChangeRowsPerPage:async(e,a)=>{g(!0);try{const t=await r("".concat(k,"/users/traderslist?page=").concat(a,"&size=").concat(I,"&delay=1"),"GET",null,{Authorization:"Bearer "+c.token});m(t.traders),A(e),g(!1)}catch(t){}},onChangePage:e=>{L(e),V(e)}})))};t(97);var z=e=>{const[a,t]=Object(n.useState)(),r=Object(n.useContext)(C),{isLoading:o,error:c,sendRequest:i,clearError:s}=S(),u=Object(n.useCallback)(async()=>{try{const e=await i("".concat(k,"/api/manufacturers/").concat(r.userId),"GET",null,{Authorization:"Bearer "+r.token});e.manufacturer&&t(e.manufacturer[0])}catch(e){}},[r.token,r.userId,i]);Object(n.useEffect)(()=>{r.userId&&u()},[u,r.userId]);const[d,m]=y({title:{value:"",isValid:!1},description:{value:"",isValid:!1},address:{value:null,isValid:!0}});return l.a.createElement(l.a.Fragment,null,l.a.createElement(v,{error:c,onClear:s}),o&&l.a.createElement(O,{asOverlay:!0}),!o&&l.a.createElement("form",{className:"place-form",onSubmit:async e=>{e.preventDefault();try{const e={title:d.inputs.title.value,description:d.inputs.description.value,address:d.inputs.address.value};a&&a.id?await i("".concat(k,"/api/manufacturers/").concat(a.id),"PATCH",JSON.stringify(e),{Authorization:"Bearer "+r.token,"Content-Type":"application/json"}):await i("".concat(k,"/api/manufacturers/create"),"POST",JSON.stringify(e),{Authorization:"Bearer "+r.token,"Content-Type":"application/json"}).then(e=>{t(e.manufacturer)})}catch(n){}}},l.a.createElement(p,{key:a&&a.title+"title",id:"title",element:"input",type:"text",label:"Title",validators:[{type:"REQUIRE"}],errorText:"Please enter a valid title.",onInput:m,initialValue:a&&a.title}),l.a.createElement(p,{key:a&&a.description+"description",id:"description",element:"textarea",label:"description",validators:[{type:"REQUIRE"}],errorText:"Please enter a description.",onInput:m,initialValue:a&&a.description}),l.a.createElement(p,{key:a&&a.address+"address",id:"address",element:"address",label:"address",errorText:"Please enter a address.",onInput:m,validators:[{type:"REQUIRE"}],initialValue:a&&a.address}),l.a.createElement("div",{className:"height25"}),l.a.createElement(b,{type:"submit",normal:"normal-button",buttonfont:"button-font",maxwidth:"max-width-fit-cont",disabled:!d.isValid},"SAVE")))};t(98);var U=e=>{const[a,t]=Object(n.useState)(),r=Object(n.useContext)(C),{isLoading:o,error:c,sendRequest:i,clearError:s}=S(),u=Object(n.useCallback)(async()=>{try{const e=await i("".concat(k,"/api/traders/traderDashboardData/").concat(r.userId),"GET",null,{Authorization:"Bearer "+r.token});e.trader&&t(e.trader[0])}catch(e){}},[r.token,r.userId,i]);Object(n.useEffect)(()=>{r.userId&&u()},[u,r.userId]);const[d,m]=y({title:{value:"",isValid:!1},description:{value:"",isValid:!1},address:{value:null,isValid:!0}});return l.a.createElement(l.a.Fragment,null,l.a.createElement(v,{error:c,onClear:s}),o&&l.a.createElement(O,{asOverlay:!0}),!o&&l.a.createElement("form",{className:"place-form",onSubmit:async e=>{e.preventDefault();try{const e={title:d.inputs.title.value,description:d.inputs.description.value,address:d.inputs.address.value};a&&a.id?await i("".concat(k,"/api/traders/updateTraderDetails//").concat(a.id),"PATCH",JSON.stringify(e),{Authorization:"Bearer "+r.token,"Content-Type":"application/json"}):await i("".concat(k,"/api/traders/createTraderDetails"),"POST",JSON.stringify(e),{Authorization:"Bearer "+r.token,"Content-Type":"application/json"}).then(e=>{t(e.traderDashboard)})}catch(n){}}},l.a.createElement(p,{key:a&&a.title+"title",id:"title",element:"input",type:"text",label:"Title",validators:[{type:"REQUIRE"}],errorText:"Please enter a valid title.",onInput:m,initialValue:a&&a.title}),l.a.createElement(p,{key:a&&a.description+"description",id:"description",element:"textarea",label:"description",validators:[{type:"REQUIRE"}],errorText:"Please enter a description.",onInput:m,initialValue:a&&a.description}),l.a.createElement(p,{key:a&&a.address+"address",id:"address",element:"address",label:"address",errorText:"Please enter a address.",onInput:m,validators:[{type:"REQUIRE"}],initialValue:a&&a.address}),l.a.createElement("div",{className:"height25"}),l.a.createElement(b,{type:"submit",normal:"normal-button",buttonfont:"button-font",maxwidth:"max-width-fit-cont",disabled:!d.isValid},"SAVE")))};var F=()=>{const{token:e,login:a,logout:t,userId:r,userName:o,email:s,mobileNo:u,role:d,image:m}=(()=>{const[e,a]=Object(n.useState)(!1),[t,l]=Object(n.useState)(!1),[r,o]=Object(n.useState)(),[c,i]=Object(n.useState)(),[s,u]=Object(n.useState)(),[d,m]=Object(n.useState)(),[p,b]=Object(n.useState)(),E=Object(n.useCallback)((e,t,n,r,c,s,d,p)=>{a(t),l(e),o(n),u(r),i(s),m(c),b(d),localStorage.setItem("userData",JSON.stringify({userId:e,token:t,userName:n,mobileNo:r,role:c,email:s,image:d}))},[]),h=Object(n.useCallback)(()=>{a(null),l(null),o(null),u(null),m(null),localStorage.removeItem("userData")},[]);return Object(n.useEffect)(()=>{const e=JSON.parse(localStorage.getItem("userData"));e&&e.token&&E(e.userId,e.token,e.userName,e.mobileNo,e.role,e.email,e.image)},[E]),{token:e,login:E,logout:h,userId:t,userName:r,email:c,mobileNo:s,role:d,image:p}})(),[p,b]=Object(n.useState)(!1);let E;return Object(n.useEffect)(()=>{b(e)},[e]),E=p?l.a.createElement(c.d,null,l.a.createElement(c.b,{path:"/",exact:!0,render:()=>{if(d){if("Manufacturer"===d)return l.a.createElement(c.a,{to:"/dashboardManufacturer"});if("Admin"===d)return l.a.createElement(c.a,{to:"/dashboardAdmin"});if("Trader"===d)return l.a.createElement(c.a,{to:"/dashboardTrader"})}}}),l.a.createElement(c.b,{path:"/dashboardAdmin",exact:!0},l.a.createElement(B,null)),l.a.createElement(c.b,{path:"/dashboardManufacturer",exact:!0},l.a.createElement(z,null)),l.a.createElement(c.b,{path:"/dashboardTrader",exact:!0},l.a.createElement(U,null)),l.a.createElement(c.b,{path:"/products",exact:!0},l.a.createElement(M,null)),l.a.createElement(c.b,{path:"/traders",exact:!0},l.a.createElement(_,null)),l.a.createElement(c.a,{to:"/"})):l.a.createElement(c.d,null,l.a.createElement(c.b,{path:"/*",exact:!0},l.a.createElement(j,null)),l.a.createElement(c.b,{path:"/auth"},l.a.createElement(j,null)),l.a.createElement(c.a,{to:"/auth"})),l.a.createElement(C.Provider,{value:{isLoggedIn:!!e,token:e,userId:r,userName:o,email:s,mobileNo:u,login:a,logout:t,role:d,image:m}},l.a.createElement(i.a,null,l.a.createElement(I,null),l.a.createElement("main",null,E)))};o.a.render(l.a.createElement(F,null),document.getElementById("root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.4d9af303.chunk.js.map